{% extends 'masterpage.html' %}
{% load static %}

{% block title %}بلاگ ها{% endblock title %}

{% block content %}

	<!-- Start All Pages -->
	<div class="all-page-title page-breadcrumb">
		<div class="container text-center">
			<div class="row">
				<div class="col-lg-12">
					<h1>بلاگ ها</h1>
				</div>
			</div>
		</div>
	</div>
	<!-- End All Pages -->
	
	<!-- Start blog -->
	<div class="blog-box">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="heading-title text-center">
						<h2>بلاگ ها</h2>
						<p>لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ و با استفاده از طراحان گرافیک است.</p>
					</div>
				</div>
			</div>
			<div class="row">

				{% for blog in blog_obj  %}	
					<div class="col-lg-4 col-md-6 col-12">
						<div class="blog-box-inner">
							<div class="blog-img-box">
								<img class="img-fluid" src="{{blog.image.url}}" style="height:420px;" alt="">
							</div>
							<div class="blog-detail">
								<h4>{{blog.title}}</h4>
								<ul>
									<li><span>ارسال توسط {{blog.author}}</span></li>
									<li>|</li>
									<li><span>{{blog.created_at|date:"Y b d"}}</span></li>
								</ul>
								
								<p dir="rtl">{{blog.content|truncatewords:60|safe}}</p>
								<a class="btn btn-lg btn-circle btn-outline-new-white" href="{% url 'blog:detail' blog.id %}">بیشتر</a>
							</div>
						</div>
					</div>
				{% endfor %}

			</div>
		</div>
	</div>
	<!-- End blog -->

	<!--Start Paginator-->
	{% if blog_obj.has_other_pages %}
		<div class= "container mb-3">
			<div class="row">
				<div class="col d-flex justify-content-center">
				
					<nav aria-label="Page navigation example">
						<ul class="pagination">
						{% if blog_obj.has_previous %}
						<li class="page-item"><a class="page-link" href="?page={{blog_obj.paginator.first_pages}}">اولین</a></li>
							<li class="page-item">
							<a class="page-link" href="?page=1" aria-label="Previous">
								<span aria-hidden="true">&laquo;</span>
								<span class="sr-only">Previous</span>
							</a>
							</li>
			
						{% endif %}

						{% for page in blog_obj.paginator.page_range %}

							{% if blog_obj.number == page %}

							<li class="page-item active"><a class="page-link" href="?page={{page}}">{{page}}</a></li>

							{% else %}
							<li class="page-item"><a class="page-link" href="?page={{page}}">{{page}}</a></li>

							{% endif %}
							
							
						{% endfor %}


						{% if blog_obj.has_next %}
							<li class="page-item">
							<a class="page-link" href="?page={{blog_obj.next_page_number}}" aria-label="Next">
								<span aria-hidden="true">&raquo;</span>
								<span class="sr-only">Next</span>
							</a>
							</li>
							<li class="page-item"><a class="page-link" href="?page={{blog_obj.paginator.num_pages}}">آخرین</a></li>
						{% endif %}
						</ul>
					</nav>

				</div>
			</div>
		</div>

	{% endif %}
	<!--End Paginator-->


{% endblock content %}